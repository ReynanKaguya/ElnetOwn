@{
    ViewData["Title"] = "Admin Dashboard";
}

<!-- Einstein Section -->
<div class="npc-container d-flex flex-column align-items-center mb-4">
    <img src="/img/einstein.png" alt="Dr. Einstein" class="einstein-img" />
    <div id="einstein-dialogue" class="bubble-text text-center"></div>
</div>


<!-- Dashboard Cards -->
<div class="container mt-5">
    <h2 class="text-center mb-4 text-primary">Admin Dashboard</h2>

    <div class="row g-4">
        <div class="col-md-3">
            <div class="card shadow text-center p-3 bg-light">
                <h4 class="text-secondary">Total Bookings</h4>
                <h2>@ViewBag.TotalBookings</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow text-center p-3 bg-light">
                <h4 class="text-secondary">Total Guests</h4>
                <h2>@ViewBag.TotalGuests</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow text-center p-3 bg-light">
                <h4 class="text-secondary">Revenue (â‚±)</h4>
                <h2>@ViewBag.TotalRevenue.ToString("N0")</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow text-center p-3 bg-light">
                <h4 class="text-secondary">Avg. Rating</h4>
                <h2>@ViewBag.AverageRating â˜…</h2>
            </div>
        </div>
    </div>
</div>

<!-- Typing animation script -->
@section Scripts {
<script>
    const lines = [
        "Welcome back, Admin! ðŸ‘‹",
        "Here's today's hotel report...",
        `ðŸ“Š Total Bookings: @ViewBag.TotalBookings`,
        `ðŸ§â€â™‚ï¸ Total Guests: @ViewBag.TotalGuests`,
        `ðŸ’° Revenue: â‚±@ViewBag.TotalRevenue`,
        `â­ Avg. Rating: @ViewBag.AverageRating`,
        "Keep up the good work! ðŸ’¼"
    ];

    let lineIndex = 0;
    let charIndex = 0;
    const dialogueBox = document.getElementById('einstein-dialogue');

    function typeLine() {
        if (lineIndex >= lines.length) return;

        const currentLine = lines[lineIndex];
        if (charIndex < currentLine.length) {
            dialogueBox.innerHTML += currentLine[charIndex];
            charIndex++;
            setTimeout(typeLine, 30);
        } else {
            dialogueBox.innerHTML += "<br/>";
            charIndex = 0;
            lineIndex++;
            setTimeout(typeLine, 700);
        }
    }

    typeLine();
</script>
}
